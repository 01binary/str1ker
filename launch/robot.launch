<launch>
  <!-- Description-->
  <param name="robot_description" textfile="$(find str1ker)/description/robot.urdf" />

  <!-- Controller configuration -->
  <rosparam file="$(find str1ker)/config/controllers.yaml" />

  <!-- Motor controller configuration -->
  <rosparam file="$(find str1ker_moveit_config)/config/ros_controllers.yaml" />

  <!-- Solenoid controller configuration -->
  <rosparam file="$(find str1ker)/config/solenoids.yaml" />

  <!-- Analog/Digital I/O -->
  <node
    name="analog"
    pkg="rosserial_python"
    type="serial_node.py"
    args="/dev/ttyACM0"
    required="true"
    output="screen"
  />

  <!-- Hardware controllers -->
  <node
    name="robot"
    pkg="str1ker"
    type="robot"
    required="true"
    output="screen"
  />

  <!-- Simulation controllers -->
  <node
    name="solenoid_state_publisher"
    type="solenoid_state_publisher"
    pkg="str1ker"
    output="screen"
  />

  <!-- ROS controllers -->
  <node
    name="controller_spawner"
    pkg="controller_manager"
    type="spawner"
    respawn="false"
    output="screen"
    args="arm_velocity_controller"
  />

  <!-- ROS state publisher -->
  <node
    name="robot_state_publisher"
    pkg="robot_state_publisher"
    type="robot_state_publisher"
    respawn="false"
    output="screen"
  />
</launch>
