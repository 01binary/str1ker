<launch>
  <node
    name="controller_spawner"
    pkg="controller_manager"
    type="spawner"
    respawn="false"
    output="screen"
    args="/single_joint_actuator/joints_update"
  />
  <node
    name="adc"
    pkg="rosserial_python"
    type="serial_node.py"
    args="/dev/ttyACM1"
    required="true"
    output="screen"
  />
  <node
    name="pwm"
    pkg="rosserial_python"
    type="serial_node.py"
    args="/dev/ttyACM0"
    required="true"
    output="screen"
  />
  <node
    name="robot"
    pkg="str1ker"
    type="robot"
    required="true"
    output="screen"
  >
    <param name="rate" value="4" />
    <param name="enableGpio" value="false" />
    <rosparam>
      arm1:
        controller: 'arm'
        enable: true
        shoulder:
          controller: 'pwmServo'
          enable: true
          gpioLPWM: 22
          gpioRPWM: 23
          minSpeed: 0.4
          maxSpeed: 1.0
          encoder:
            controller: 'potentiometer'
            enable: true
            adc: 'robot/adc'
            channel: 0
            min: 180
            max: 783
            minAngle: 0
            maxAngle: 180
        upperarm:
          controller: 'pwmServo'
          enable: false
          gpioLPWM: 6
          gpioRPWM: 5
          time: 5
          encoder:
            controller: 'potentiometer'
            enable: true
            adc: 'robot/adc'
            channel: 1
            min: 175
            max: 200
            minAngle: 23.35
            maxAngle: 44.26
        forearm:
          controller: 'pwmServo'
          enable: false
          gpioLPWM: 25
          gpioRPWM: 24
          time: 4
          encoder:
            controller: 'potentiometer'
            enable: true
            adc: 'robot/adc'
            channel: 2
            min: 354
            max: 194
            minAngle: 69.75
            maxAngle: 116.35
        trigger:
          controller: 'solenoid'
          enable: false
          gpio: 16
    </rosparam>
  </node>
</launch>
